/*!
 * jquery.herotabs
 * version 1.2.3
 * Requires jQuery 1.7.0 or higher
 * https://github.com/simonsmith/jquery.herotabs/
 * @blinkdesign
 */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery)}(this,function(t){"use strict";var e=0,n={delay:0,duration:0,easing:"ease-in-out",startOn:0,reverse:!1,interactEvent:"click",useTouch:!0,onSetup:null,onReady:null,css:{active:"is-active",current:"tab-current",navCurrent:"tab-nav-current",navId:"tabnav"},selectors:{tab:".js-tab",nav:".js-nav",navItem:".js-nav-item"},zIndex:{bottom:1,top:2}},i=function(t,n){this.container=t,this.options=n,this._currentTab=null,this._timer=null,this._instanceId=++e,this._opacityTransition="opacity "+parseInt(n.duration,10)/1e3+"s "+n.easing,"function"==typeof n.onSetup&&n.onSetup.call(this),this._getDOMElements(),this.nav.length>0&&(this._ariafy(),this._setCurrentNav(),this._attachNavEvents()),this._showInitialTab(n.startOn),this._attachKeyEvents(),parseInt(n.delay,10)>0&&(this.start(),this._attachHoverEvents()),t.addClass(n.css.active),t[0].style.position="relative","function"==typeof n.onReady&&n.onReady.call(this)};i.prototype={constructor:i,showTab:function(t){t=this._getTab(t);var e=this._currentTab,n=this._transitionProps;if(0==t.length||e.is(t))return this;this.tab.css(n.css,"").css("opacity",""),this._setTabVisibilty(e,this.tab.not(e)),t.show().css({position:"absolute"});var i=this,s=parseInt(this.options.duration,10);return s>0?e.one(n.js,function(){i._setTabVisibilty(t,e),i.triggerEvent("herotabs.hide",e)}):(i._setTabVisibilty(t,e),i.triggerEvent("herotabs.hide",e)),e.css(n.css,this._opacityTransition).css("opacity",0),this.triggerEvent("herotabs.show",t),this._currentTab=t,this},nextTab:function(){var t=this.tab.index(this._currentTab),e=this.tab.eq(t+1);return e=e.length>0?e:this.tab.eq(0),this.showTab(e),this.triggerEvent("herotabs.next",e),this},prevTab:function(){var t=this.tab.index(this._currentTab),e=this.tab.eq(0==t?-1:t-1);return this.showTab(e),this.triggerEvent("herotabs.prev",e),this},start:function(){var t=this.options;if(!t.delay)return this;var e=this,n=t.reverse;return this._timer=setInterval(function(){e._navItemHasFocus()||(n?e.prevTab():e.nextTab())},t.delay),this.triggerEvent("herotabs.start",this._currentTab),this},stop:function(){return clearInterval(this._timer),this.triggerEvent("herotabs.stop",this._currentTab),this},triggerEvent:function(t,e){e=this._getTab(e);var n=this.tab.index(e);this.container.trigger(t,{currentTab:e,currentTabIndex:n,currentNavItem:this.navItem.eq(n)})},_getDOMElements:function(){var t=this.options.selectors;for(var e in t)this[e]=this.container.find(t[e])},_getTab:function(t){return"number"!=typeof t?t:this.tab.eq(t)},_showInitialTab:function(t){var e=location.hash&&this.tab.filter(location.hash),n=0==e.length?this.tab.eq(t):e;this.tab.css("top",0),this._setTabVisibilty(n,this.tab.not(n)),this.triggerEvent("herotabs.show",n),this._currentTab=n},_setTabVisibilty:function(t,e){var n=this.options,i=n.css,s=n.zIndex;t.addClass(i.current).css({"z-index":s.top,position:"relative"}).attr("aria-hidden",!1).find("a").andSelf().attr("tabindex","0"),e.removeClass(i.current).css({"z-index":s.bottom}).hide().attr("aria-hidden",!0).find("a").andSelf().attr("tabindex","-1")},_ariafy:function(){var t=this.options.css.navId+this._instanceId+"-";this.nav[0].setAttribute("role","tablist"),this.navItem.attr("role","presentation").find("a").each(function(e){this.id=t+(e+1),this.setAttribute("role","tab")}),this.tab.each(function(e){this.setAttribute("role","tabpanel"),this.setAttribute("aria-labelledby",t+(e+1))})},_transitionProps:function(){var t="transition",e=document.createElement("div");if(t in e.style)return{css:t,js:"transitionend"};for(var n={transition:"transitionend",webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},i=["Moz","webkit","O"],s=t.charAt(0).toUpperCase()+t.substr(1),a={},r=0,o=i.length;o>r;++r){var h=i[r]+s;h in e.style&&(a.js=n[h],a.css="-"+i[r].toLowerCase()+"-"+t)}return a}(),_attachHoverEvents:function(){var t=this;this.container.on("mouseenter",function(){t.stop(),t.triggerEvent("herotabs.mouseenter",t._currentTab)}),this.container.on("mouseleave",function(){t.start(),t.triggerEvent("herotabs.mouseleave",t._currentTab)})},_attachKeyEvents:function(){var t=this;this.nav.on("keydown","a",function(e){switch(e.keyCode){case 37:case 38:t.prevTab();break;case 39:case 40:t.nextTab()}})},_isTouchEnabled:function(){return"ontouchstart"in document.documentElement&&this.options.useTouch},_getEventType:function(){var t={hover:"mouseenter",touch:"touchstart",click:"click"};return this._isTouchEnabled()?t.touch:t[this.options.interactEvent]},_attachNavEvents:function(){var e=this.nav,n=this._getEventType(),i=this.options,s=this;e.on(n,"a",function(e){s.showTab(t(this).parents(i.selectors.navItem).index()),s._checkUrlIsAnchor(this.href)&&(e.preventDefault(),e.stopPropagation())})},_isAnchorRegex:/#[A-Za-z0-9-_]+$/,_checkUrlIsAnchor:function(t){return this._isAnchorRegex.test(t)},_navItemHasFocus:function(){return t(document.activeElement).closest(this.container).is(this.container)},_setCurrentNav:function(){var t=this,e=this.options,n=e.css.navCurrent,i=this.navItem;t.container.on("herotabs.show",function(e,s){i.removeClass(n).find("a").each(function(){this.setAttribute("aria-selected","false"),this.setAttribute("tabindex","-1")});var a=i.eq(s.currentTabIndex).addClass(n).find("a");a[0].setAttribute("aria-selected","true"),a[0].setAttribute("tabindex","0"),t._navItemHasFocus()&&a.focus()})}},void 0==i.prototype._transitionProps.css&&(i.prototype.showTab=function(t){t=this._getTab(t);var e=this._currentTab,n=this.options;if(0==t.length||e.is(t))return this;this.tab.stop(!0,!0),t.show().css({position:"absolute",opacity:1});var i=this;return e.animate({opacity:0},n.duration,function(){i._setTabVisibilty(t,e)}),this.triggerEvent("herotabs.show",t),this._currentTab=t,this}),t.fn.herotabs=function(e){return e=t.extend(!0,{},n,e),this.each(function(){var n=t(this);n.data("herotabs",new i(n,e))})},t.fn.herotabs.defaults=n,t.fn.herotabs.Herotabs=i});