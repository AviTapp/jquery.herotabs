/** @preserve
 * jquery.herotabs
 * version 1.0.1;
 * https://github.com/simonsmith/jquery.herotabs
 * @blinkdesign
 */
!function(a){"use strict";var b={delay:0,startOn:0,reverse:!1,interactEvent:"click",useTouch:!0,css:{active:"is-active",current:"tab-current",navCurrent:"tab-nav-current",navId:"tabnav"},selectors:{tab:".js-tab",nav:".js-nav",navItem:".js-nav-item"}},c=function(a){var c=function(a,b){this.container=a,this.options=b,this._currentTab=null,this._timer=null,this._isTouchEnabled="ontouchend"in document.documentElement&&this.options.useTouch,this._getDOMElements(),this.nav.length>0&&(this._ariafy(),this._setCurrentNav(),this._attachNavEvents()),this.showTab(b.startOn),this._attachKeyEvents(),b.delay>0&&!this._isTouchEnabled&&(this.start(),this._attachHoverEvents()),a.addClass(b.css.active)};c.prototype={constructor:c,showTab:function(a){if(a="number"!=typeof a?a:this.tab.eq(a),0==a.length)return this;var b=this.options;return null==this._currentTab&&(this._currentTab=this.tab),this._currentTab.removeClass(b.css.current).hide().attr("aria-hidden",!0).find("a").addBack().attr("tabindex","-1"),a.addClass(b.css.current).show().attr("aria-hidden",!1).find("a").addBack().attr("tabindex","0"),this._currentTab=a,this.container.trigger("herotabs.show",this._getEventData(a)),this},nextTab:function(){var a=this.tab.index(this._currentTab),b=this.tab.eq(a+1);return b=b.length>0?b:this.tab.eq(0),this.showTab(b),this.container.trigger("herotabs.next",this._getEventData(b)),this},prevTab:function(){var a=this.tab.index(this._currentTab),b=this.tab.eq(0==a?-1:a-1);return this.showTab(b),this.container.trigger("herotabs.prev",this._getEventData(b)),this},start:function(){var a=this.options;if(!a.delay)return this;var b=this,c=a.reverse;return this._timer=setInterval(function(){b._navItemHasFocus()||(c?b.prevTab():b.nextTab())},a.delay),this.container.trigger("herotabs.start",this._getEventData(this._currentTab)),this},stop:function(){return clearInterval(this._timer),this.container.trigger("herotabs.stop",this._getEventData(this._currentTab)),this},_getDOMElements:function(){var a=this.options.selectors;for(var b in a)this[b]=this.container.find(a[b])},_getEventData:function(a){var b=this.tab.index(a);return{currentTab:a,currentTabIndex:b,currentNavItem:this.navItem.eq(b)}},_ariafy:function(){var a=this.options.css.navId;this.nav[0].setAttribute("role","tablist"),this.navItem.attr("role","presentation").find("a").each(function(b){this.id=a+(b+1),this.setAttribute("role","tab")}),this.tab.each(function(b){this.setAttribute("role","tabpanel"),this.setAttribute("aria-labelledby",a+(b+1))})},_attachHoverEvents:function(){var b=this;this.container.on("mouseenter",function(){b.stop(),a(this).trigger("herotabs.mouseenter",{currentTab:b._currentTab})}),this.container.on("mouseleave",function(){b.start(),a(this).trigger("herotabs.mouseleave",{currentTab:b._currentTab})})},_attachKeyEvents:function(){var a=this;this.nav.on("keydown","a",function(b){switch(b.keyCode){case 37:case 38:a.prevTab();break;case 39:case 40:a.nextTab()}})},_getEventType:function(){var a={hover:"mouseenter",touch:"touchend",click:"click"};return this._isTouchEnabled?a.touch:a[this.options.interactEvent]},_attachNavEvents:function(){var b=this.nav,c=this._getEventType(),d=this.options,e=this;b.on(c,"a",function(b){e.showTab(a(this).parents(d.selectors.navItem).index()),e._checkUrlIsAnchor(this.href)&&b.preventDefault()})},_isAnchorRegex:/#[A-Za-z0-9-_]+$/,_checkUrlIsAnchor:function(a){return this._isAnchorRegex.test(a)},_navItemHasFocus:function(){return a(document.activeElement).closest(this.container)[0]==this.container[0]},_setCurrentNav:function(){var a=this,b=this.options,c=b.css.navCurrent,d=this.navItem;a.container.on("herotabs.show",function(b,e){d.removeClass(c).find("a").each(function(){this.setAttribute("aria-selected","false"),this.setAttribute("tabindex","-1")});var f=d.eq(e.currentTabIndex).addClass(c).find("a");f.attr({"aria-selected":!0,tabindex:"0"}),a._navItemHasFocus()&&f.focus()})}},a.fn.herotabs=function(d){return d=a.extend(!0,{},b,d),this.each(function(){var b=a(this);b.data("herotabs",new c(b,d))})},a.fn.herotabs.defaults=b,a.fn.herotabs.Herotabs=c};"function"==typeof define&&define.amd?define(["jquery"],c):c(a.jQuery)}(this);